
# prompt
git_branch() {
  git branch 2>/dev/null | grep '^*' | colrm 1 2
}

PS1="\[\033[01;32m\]\t \u@\h\[\033[00m\]:\w \[\033[01;34m\]\$(git_branch)\[\033[00m\]\n> "


# TeXlive
export PATH=/usr/local/texlive/2018/bin/x86_64-linux:$PATH
export INFOPATH=$INFOPATH:/usr/local/texlive/2018/texmf-dist/doc/info
export MANPATH=$MANPATH:/usr/local/texlive/2018/texmf-dist/doc/man


# python venv management
export VENVDIR=$HOME/.python_venv

mkvenv() {
  if [ -z "$1" ]
    then
      echo "usage: mkvenv <name>"
  else
    python -m venv --copies $VENVDIR/"$1"
  fi
}

lsvenv() {
  ls $VENVDIR -1
}

avenv() {
  if [ -z "$1" ]
    then
      echo "usage: avenv <name>"
  else
    source $VENVDIR/"$1"/bin/activate
  fi
}

rmvenv() {
  if [ -z "$1" ]
    then
      echo "usage: rmvenv <name>"
  else
    deactivate 2>/dev/null
    rm -rf $VENVDIR/"$1"
  fi
}

if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init -)"
fi
